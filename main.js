(()=>{"use strict";const e=new class{constructor(){this._gameBoard=["","","","","","","","",""]}get gameBoard(){return this._gameBoard}set gameBoard(e){this._gameBoard=e}addToGameBoard=(e,r)=>{this._gameBoard.splice(e,1,r)};isGameBoardFull=()=>9===this._gameBoard.length&&!this._gameBoard.includes("");printGameBoard=()=>{console.log(`\n         ${this._gameBoard[0]} | ${this._gameBoard[1]} | ${this._gameBoard[2]}\n        ---+---+---\n         ${this._gameBoard[3]} | ${this._gameBoard[4]} | ${this._gameBoard[5]}\n        ---+---+---\n         ${this._gameBoard[6]} | ${this._gameBoard[7]} | ${this._gameBoard[8]}\n        `)};emptyGameBoard=()=>{for(let e=0;e<this._gameBoard.length;e++)this._gameBoard[e]=""}};class r{constructor(e,r){this._name=e,this._playerSymbol=r,this._score=0}get name(){return this._name}set name(e){this._name=e}get playerSymbol(){return this._playerSymbol}set playerSymbol(e){this._playerSymbol=e}get score(){return this._score}set score(e){this._score=e}}const a=new class{constructor(){this._player1=new r("player1","X"),this._player2=new r("player2","O"),this._playerTurn=this._player1}get playerOne(){return this._player1}get playerTwo(){return this._player2}set playerOne(e){this._player1=e}set playerTwo(e){this._player2=e}get playerTurn(){return this._playerTurn}set playerTurn(e){this._playerTurn=e}determineResult=()=>{let r=e.gameBoard;const a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let e=0;e<a.length;e++){const[t,s,l]=a[e],n=r[t],i=r[s],o=r[l];if(""!==n&&n===i&&i===o)return"WIN!"}return e.isGameBoardFull()?"TIE!":""};startGameApp=(r,a)=>{e.emptyGameBoard(),this.createNewPlayers(r,a)};createNewPlayers=(e,r)=>{this._player1.name=e,this._player2.name=r};addSymbolToGameBoard=(r,a)=>{e.addToGameBoard(r,a)};isGameBoardCellFull=r=>""!==e.gameBoard[r];switchPlayerTurn=()=>{this._playerTurn.name==this._player1.name?this._playerTurn=this._player2:this._playerTurn=this._player1};restartGame=()=>{e.emptyGameBoard(),this._playerTurn=this._player1};incrementPlayerScore=e=>{e.name==this._player1.name?this._player1.score+=1:this._player2.score+=1}},t=new class{constructor(){this._playerOneInput=document.querySelector("#player-one"),this._playerTwoInput=document.querySelector("#player-two"),this._gameForm=document.querySelector(".game-form"),this._gameBoard=document.querySelector(".game-board"),this._cells=document.querySelectorAll(".cell"),this._scoreDisplay=document.querySelector(".score-display"),this._playerNameForm=document.querySelector("#player-name-form"),this._resultParagraph=document.querySelector(".winner-paragraph"),this._restartButton=document.querySelector(".restart-button"),this._restartButton.addEventListener("click",this.restartButtonClickHandler),this._cells=document.querySelectorAll(".cell"),this._playerOneNameSpan=document.querySelector("#player-one-name"),this._playerOneScoreSpan=document.querySelector("#player-one-score"),this._playerTwoNameSpan=document.querySelector("#player-two-name"),this._playerTwoScoreSpan=document.querySelector("#player-two-score")}startGameAppUI=()=>{this._playerNameForm.addEventListener("submit",(e=>{let r=this._playerOneInput.value,t=this._playerTwoInput.value;a.startGameApp(r,t),this._gameForm.style.display="none",this._gameBoard.style.display="block",e.preventDefault(),this.startGameUI()}))};startGameUI=()=>{this.displayPlayerTurn(a.playerTurn),this.displayPlayersScore(a.playerOne,a.playerTwo),this._scoreDisplay.hidden=!1,this._cells.forEach((e=>{e.removeEventListener("click",this.cellClickHandler)})),this._cells.forEach((e=>{e.addEventListener("click",this.cellClickHandler)}))};cellClickHandler=e=>{const r=e.target,t=r.getAttribute("data-cell-index"),s=a.playerTurn;if(a.isGameBoardCellFull(t))return void alert("This Cell is Full");this.displaySymbolToGame(r,s.playerSymbol),a.addSymbolToGameBoard(t,s.playerSymbol);let l=a.determineResult();this.displayResult(s,l),a.switchPlayerTurn(),this.displayPlayersScore(a.playerOne,a.playerTwo),this.displayPlayerTurn(a.playerTurn)};restartButtonClickHandler=()=>{a.restartGame(),this.resetGameDisplay(),this.startGameUI()};displaySymbolToGame=(e,r)=>{const a=document.createElement("p");a.textContent=r,e.appendChild(a)};displayResult=(e,r)=>{""!==r&&("WIN!"===r?(this._resultParagraph.innerHTML="Winner is "+e.name,a.incrementPlayerScore(e)):"TIE!"===r&&(this._resultParagraph.innerHTML=r),this._resultParagraph.hidden=!1,this._restartButton.hidden=!1,this._cells.forEach((e=>{e.classList.add("disabled")})))};displayPlayerTurn=e=>{const r=document.querySelector(".player-turn-header");r.innerHTML=`Player Turn: ${e.name} (${e.playerSymbol})`,r.hidden=!1};resetGameDisplay=()=>{this._cells.forEach((e=>{e.innerHTML="",e.classList.remove("disabled")})),this._resultParagraph.hidden=!0,this._restartButton.hidden=!0};displayPlayersScore=(e,r)=>{this._playerOneNameSpan.innerHTML=e.name,this._playerOneScoreSpan.innerHTML=e.score,this._playerTwoNameSpan.innerHTML=r.name,this._playerTwoScoreSpan.innerHTML=r.score}};document.addEventListener("DOMContentLoaded",(()=>{t.startGameAppUI()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FDNUN0QixLQUFLb0Usb0JBQW9CaUMsVUFBWUssRUFBUWpGLE1BRTdDekIsS0FBS3FFLG1CQUFtQmdDLFVBQVlNLEVBQVFyRixLQUM1Q3RCLEtBQUtzRSxvQkFBb0IrQixVQUFZTSxFQUFRbEYsS0FBSyxHQ3NLdEQ4QixTQUFTVSxpQkFBaUIsb0JBQW9CLEtBRzFDLEVBQUdNLGdCQUFnQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1wcm9qZWN0LXRpYy10YWMtdG9lLy4vc3JjL21vZHVsZXMvR2FtZUJvYXJkLmpzIiwid2VicGFjazovL29kaW4tcHJvamVjdC10aWMtdGFjLXRvZS8uL3NyYy9tb2R1bGVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLXByb2plY3QtdGljLXRhYy10b2UvLi9zcmMvbW9kdWxlcy9HYW1lTG9naWMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1wcm9qZWN0LXRpYy10YWMtdG9lLy4vc3JjL21vZHVsZXMvVUkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1wcm9qZWN0LXRpYy10YWMtdG9lLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEdhbWVCb2FyZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb2FyZCA9IFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXRyaWV2ZSB0aGUgY3VycmVudCBnYW1lIGJvYXJkLlxyXG4gICAgZ2V0IGdhbWVCb2FyZCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nYW1lQm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGdhbWVCb2FyZChuZXdHYW1lQm9hcmQpe1xyXG4gICAgICAgIHRoaXMuX2dhbWVCb2FyZCA9IG5ld0dhbWVCb2FyZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgYSBwbGF5ZXIncyBzeW1ib2wgdG8gdGhlIGdhbWUgYm9hcmQgYXQgdGhlIHNwZWNpZmllZCBjZWxsIGluZGV4LlxyXG4gICAgYWRkVG9HYW1lQm9hcmQgPSAoY2VsbEluZGV4LCBwbGF5ZXJTeW1ib2wpID0+IHtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGdhbWUgYm9hcmQgYXQgdGhlIGdpdmVuIGNlbGwgaW5kZXggd2l0aCB0aGUgcGxheWVyJ3Mgc3ltYm9sLlxyXG4gICAgICAgIHRoaXMuX2dhbWVCb2FyZC5zcGxpY2UoY2VsbEluZGV4LCAxLCBwbGF5ZXJTeW1ib2wpO1xyXG4gICAgfVxyXG5cclxuICAgICAvLyBDaGVjayBpZiB0aGUgZ2FtZSBib2FyZCBpcyBmdWxsLCBpbmRpY2F0aW5nIGEgdGllLlxyXG4gICAgIGlzR2FtZUJvYXJkRnVsbCA9ICgpID0+IHtcclxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgOSBjZWxscyBhbmQgbm9uZSBvZiB0aGVtIGFyZSBlbXB0eSBzdHJpbmdzLCB0aGUgYm9hcmQgaXMgZnVsbC5cclxuICAgICAgICBpZiAodGhpcy5fZ2FtZUJvYXJkLmxlbmd0aCA9PT0gOSAmJiAhdGhpcy5fZ2FtZUJvYXJkLmluY2x1ZGVzKFwiXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgIC8vIFByaW50IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBnYW1lIGJvYXJkIHRvIHRoZSBjb25zb2xlLlxyXG4gICAgIHByaW50R2FtZUJvYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgJHt0aGlzLl9nYW1lQm9hcmRbMF19IHwgJHt0aGlzLl9nYW1lQm9hcmRbMV19IHwgJHt0aGlzLl9nYW1lQm9hcmRbMl19XHJcbiAgICAgICAgLS0tKy0tLSstLS1cclxuICAgICAgICAgJHt0aGlzLl9nYW1lQm9hcmRbM119IHwgJHt0aGlzLl9nYW1lQm9hcmRbNF19IHwgJHt0aGlzLl9nYW1lQm9hcmRbNV19XHJcbiAgICAgICAgLS0tKy0tLSstLS1cclxuICAgICAgICAgJHt0aGlzLl9nYW1lQm9hcmRbNl19IHwgJHt0aGlzLl9nYW1lQm9hcmRbN119IHwgJHt0aGlzLl9nYW1lQm9hcmRbOF19XHJcbiAgICAgICAgYCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2xlYXIgdGhlIGdhbWUgYm9hcmQsIHJlc2V0dGluZyBpdCB0byBhbiBlbXB0eSBzdGF0ZS5cclxuICAgIGVtcHR5R2FtZUJvYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZ2FtZUJvYXJkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVCb2FyZFtpXSA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZUJvYXJkOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllcntcclxuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxOYW1lLCBzeW1ib2wpe1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBpbml0aWFsTmFtZTtcclxuICAgICAgICB0aGlzLl9wbGF5ZXJTeW1ib2wgPSBzeW1ib2w7XHJcbiAgICAgICAgdGhpcy5fc2NvcmUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBuYW1lKG5ld05hbWUpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmV3TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGxheWVyU3ltYm9sKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllclN5bWJvbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGxheWVyU3ltYm9sKG5ld1BsYXllclN5bWJvbCl7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyU3ltYm9sID0gbmV3UGxheWVyU3ltYm9sO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY29yZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zY29yZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgc2NvcmUobmV3U2NvcmUpe1xyXG4gICAgICAgIHRoaXMuX3Njb3JlID0gbmV3U2NvcmU7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IEdhbWVCb2FyZCBmcm9tIFwiLi9HYW1lQm9hcmRcIjtcclxuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9QbGF5ZXJcIjtcclxuY2xhc3MgR2FtZUxvZ2lje1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLl9wbGF5ZXIxID0gbmV3IFBsYXllcihcInBsYXllcjFcIiwgXCJYXCIpOyAvLyBDcmVhdGUgUGxheWVyIDEgd2l0aCBzeW1ib2wgWC5cclxuICAgICAgICB0aGlzLl9wbGF5ZXIyID0gbmV3IFBsYXllcihcInBsYXllcjJcIiwgXCJPXCIpOyAvLyBDcmVhdGUgUGxheWVyIDIgd2l0aCBzeW1ib2wgTy5cclxuICAgICAgICB0aGlzLl9wbGF5ZXJUdXJuID0gdGhpcy5fcGxheWVyMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGxheWVyT25lKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYXllcjE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBsYXllclR3bygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wbGF5ZXIyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBwbGF5ZXJPbmUobmV3UGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyMSA9IG5ld1BsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGxheWVyVHdvKG5ld1BsYXllcikge1xyXG4gICAgICAgIHRoaXMuX3BsYXllcjIgPSBuZXdQbGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBsYXllclR1cm4oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyVHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcGxheWVyVHVybihuZXdQbGF5ZXJUdXJuKXtcclxuICAgICAgICB0aGlzLl9wbGF5ZXJUdXJuID0gbmV3UGxheWVyVHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkZXRlcm1pbmVSZXN1bHQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IGdhbWVCb2FyZCA9IEdhbWVCb2FyZC5nYW1lQm9hcmQ7XHJcbiAgICAgICAgY29uc3Qgd2lubmluZ0NvbWJpbmF0aW9ucyA9IFtcclxuICAgICAgICAgICAgWzAsIDEsIDJdLCBbMywgNCwgNV0sIFs2LCA3LCA4XSwgLy8gUm93c1xyXG4gICAgICAgICAgICBbMCwgMywgNl0sIFsxLCA0LCA3XSwgWzIsIDUsIDhdLCAvLyBDb2x1bW5zXHJcbiAgICAgICAgICAgIFswLCA0LCA4XSwgWzIsIDQsIDZdICAgICAgICAgICAgICAvLyBEaWFnb25hbHNcclxuICAgICAgICBdO1xyXG4gICAgXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHdpbm5pbmdDb21iaW5hdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFthLCBiLCBjXSA9IHdpbm5pbmdDb21iaW5hdGlvbnNbaW5kZXhdO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdENlbGwgPSBnYW1lQm9hcmRbYV07XHJcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZENlbGwgPSBnYW1lQm9hcmRbYl07XHJcbiAgICAgICAgICAgIGNvbnN0IHRoaXJkQ2VsbCA9IGdhbWVCb2FyZFtjXTtcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAoZmlyc3RDZWxsICE9PSBcIlwiICYmIGZpcnN0Q2VsbCA9PT0gc2Vjb25kQ2VsbCAmJiBzZWNvbmRDZWxsID09PSB0aGlyZENlbGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIldJTiFcIjsgLy8gcmV0dXJuIFdJTiByZXN1bHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChHYW1lQm9hcmQuaXNHYW1lQm9hcmRGdWxsKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiVElFIVwiOyAvLyByZXR1cm4gVElFIHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBcIlwiOyAvLyByZXR1cm4gZW1wdHkgc3RyaW5nID0+IGdhbWUgb25nb2luZ1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0R2FtZUFwcCA9IChwbGF5ZXJPbmVOYW1lLHBsYXllclR3b05hbWUpID0+e1xyXG4gICAgICAgIEdhbWVCb2FyZC5lbXB0eUdhbWVCb2FyZCgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlTmV3UGxheWVycyhwbGF5ZXJPbmVOYW1lLHBsYXllclR3b05hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU5ld1BsYXllcnMgPSAocGxheWVyT25lTmFtZSxwbGF5ZXJUd29OYW1lKSA9PntcclxuICAgICAgICB0aGlzLl9wbGF5ZXIxLm5hbWUgPSBwbGF5ZXJPbmVOYW1lO1xyXG4gICAgICAgIHRoaXMuX3BsYXllcjIubmFtZSA9IHBsYXllclR3b05hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU3ltYm9sVG9HYW1lQm9hcmQgPSAoY2VsbEluZGV4LHBsYXllclN5bWJvbCkgPT57XHJcbiAgICAgICAgR2FtZUJvYXJkLmFkZFRvR2FtZUJvYXJkKGNlbGxJbmRleCxwbGF5ZXJTeW1ib2wpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzR2FtZUJvYXJkQ2VsbEZ1bGwgPSAoY2VsbEluZGV4KSA9PntcclxuICAgICAgICByZXR1cm4gR2FtZUJvYXJkLmdhbWVCb2FyZFtjZWxsSW5kZXhdICE9PSBcIlwiXHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoUGxheWVyVHVybiA9ICgpID0+e1xyXG4gICAgICAgIGlmKHRoaXMuX3BsYXllclR1cm4ubmFtZSA9PSB0aGlzLl9wbGF5ZXIxLm5hbWUpe1xyXG4gICAgICAgICAgICB0aGlzLl9wbGF5ZXJUdXJuID0gdGhpcy5fcGxheWVyMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYXllclR1cm4gPSB0aGlzLl9wbGF5ZXIxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN0YXJ0R2FtZSA9ICgpID0+IHtcclxuICAgICAgICBHYW1lQm9hcmQuZW1wdHlHYW1lQm9hcmQoKTtcclxuICAgICAgICB0aGlzLl9wbGF5ZXJUdXJuID0gdGhpcy5fcGxheWVyMTtcclxuICAgIH1cclxuXHJcbiAgICBpbmNyZW1lbnRQbGF5ZXJTY29yZSA9IChwbGF5ZXIpID0+e1xyXG4gICAgICAgIGlmKHBsYXllci5uYW1lID09IHRoaXMuX3BsYXllcjEubmFtZSl7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYXllcjEuc2NvcmUgKz0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsYXllcjIuc2NvcmUgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgR2FtZUxvZ2ljOyIsImltcG9ydCBHYW1lTG9naWMgZnJvbSBcIi4vR2FtZUxvZ2ljXCI7XHJcblxyXG5jbGFzcyBVSXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgLy8gVmFyaWFibGVzIHRvIHN0b3JlIHBsYXllciBpbnB1dHMsIGdhbWUgZWxlbWVudHMsIGFuZCBpbml0aWFsIHBsYXllciBzZXR1cC5cclxuICAgICAgICB0aGlzLl9wbGF5ZXJPbmVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxheWVyLW9uZVwiKTtcclxuICAgICAgICB0aGlzLl9wbGF5ZXJUd29JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxheWVyLXR3b1wiKTtcclxuICAgICAgICB0aGlzLl9nYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWZvcm0nKTtcclxuICAgICAgICB0aGlzLl9nYW1lQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1ib2FyZCcpO1xyXG4gICAgICAgIHRoaXMuX2NlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKTtcclxuICAgICAgICB0aGlzLl9zY29yZURpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNjb3JlLWRpc3BsYXlcIik7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyTmFtZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGxheWVyLW5hbWUtZm9ybScpO1xyXG5cclxuICAgICAgICAvLyBSZWZlcmVuY2UgdG8gdGhlIHBhcmFncmFwaCBkaXNwbGF5aW5nIHRoZSBnYW1lIHJlc3VsdC5cclxuICAgICAgICB0aGlzLl9yZXN1bHRQYXJhZ3JhcGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5lci1wYXJhZ3JhcGhcIik7XHJcblxyXG4gICAgICAgIC8vIFJlZmVyZW5jZSB0byB0aGUgcmVzdGFydCBidXR0b24uXHJcbiAgICAgICAgdGhpcy5fcmVzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdGFydC1idXR0b25cIik7XHJcbiAgICAgICAgdGhpcy5fcmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsdGhpcy5yZXN0YXJ0QnV0dG9uQ2xpY2tIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgLy8gUmVmZXJlbmNlIHRvIGFsbCBnYW1lIGNlbGxzLlxyXG4gICAgICAgIHRoaXMuX2NlbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNlbGwnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxheWVyT25lTmFtZVNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllci1vbmUtbmFtZVwiKTtcclxuICAgICAgICB0aGlzLl9wbGF5ZXJPbmVTY29yZVNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllci1vbmUtc2NvcmVcIik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BsYXllclR3b05hbWVTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXItdHdvLW5hbWVcIik7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyVHdvU2NvcmVTcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXItdHdvLXNjb3JlXCIpO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhcnRHYW1lQXBwVUkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcGxheWVyTmFtZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IHBsYXllck9uZUlucHV0VmFsdWUgPSB0aGlzLl9wbGF5ZXJPbmVJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgbGV0IHBsYXllclR3b0lucHV0VmFsdWUgPSB0aGlzLl9wbGF5ZXJUd29JbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgR2FtZUxvZ2ljLnN0YXJ0R2FtZUFwcChwbGF5ZXJPbmVJbnB1dFZhbHVlLHBsYXllclR3b0lucHV0VmFsdWUpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIHRoaXMuX2dhbWVCb2FyZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5zdGFydEdhbWVVSSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0R2FtZVVJID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVBsYXllclR1cm4oR2FtZUxvZ2ljLnBsYXllclR1cm4pO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheVBsYXllcnNTY29yZShHYW1lTG9naWMucGxheWVyT25lLEdhbWVMb2dpYy5wbGF5ZXJUd28pO1xyXG4gICAgICAgIHRoaXMuX3Njb3JlRGlzcGxheS5oaWRkZW4gPSBmYWxzZTtcclxuICAgIFxyXG4gICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBldmVudCBsaXN0ZW5lcnMgZnJvbSBjZWxscy5cclxuICAgICAgICB0aGlzLl9jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbiAgICAgICAgICAgIGNlbGwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNlbGxDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgLy8gQWRkIG5ldyBjbGljayBldmVudCBsaXN0ZW5lcnMgdG8gY2VsbHMuXHJcbiAgICAgICAgdGhpcy5fY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4gICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jZWxsQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIGNlbGwgY2xpY2sgZXZlbnRzIGR1cmluZyB0aGUgZ2FtZS5cclxuICAgIGNlbGxDbGlja0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zdCBjZWxsID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLWNlbGwtaW5kZXgnKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50UGxheWVyID0gR2FtZUxvZ2ljLnBsYXllclR1cm47XHJcbiAgICAgICAgaWYgKEdhbWVMb2dpYy5pc0dhbWVCb2FyZENlbGxGdWxsKGNlbGxJbmRleCkpIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJUaGlzIENlbGwgaXMgRnVsbFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3BsYXlTeW1ib2xUb0dhbWUoY2VsbCwgY3VycmVudFBsYXllci5wbGF5ZXJTeW1ib2wpO1xyXG4gICAgICAgIEdhbWVMb2dpYy5hZGRTeW1ib2xUb0dhbWVCb2FyZChjZWxsSW5kZXgsY3VycmVudFBsYXllci5wbGF5ZXJTeW1ib2wpO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBHYW1lTG9naWMuZGV0ZXJtaW5lUmVzdWx0KCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5UmVzdWx0KGN1cnJlbnRQbGF5ZXIsIHJlc3VsdCk7XHJcbiAgICAgICAgR2FtZUxvZ2ljLnN3aXRjaFBsYXllclR1cm4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXNwbGF5UGxheWVyc1Njb3JlKEdhbWVMb2dpYy5wbGF5ZXJPbmUsR2FtZUxvZ2ljLnBsYXllclR3byk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5UGxheWVyVHVybihHYW1lTG9naWMucGxheWVyVHVybik7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlc3RhcnRCdXR0b25DbGlja0hhbmRsZXIgPSAoKSA9PntcclxuICAgICAgICBHYW1lTG9naWMucmVzdGFydEdhbWUoKTtcclxuICAgICAgICB0aGlzLnJlc2V0R2FtZURpc3BsYXkoKTtcclxuICAgICAgICB0aGlzLnN0YXJ0R2FtZVVJKCk7XHJcbiAgICB9XHJcblxyXG4vLyBGdW5jdGlvbiB0byBkaXNwbGF5IGEgcGxheWVyJ3Mgc3ltYm9sIChYIG9yIE8pIG9uIGEgZ2FtZSBjZWxsLlxyXG5kaXNwbGF5U3ltYm9sVG9HYW1lID0gKGNlbGwsIHN5bWJvbCkgPT4ge1xyXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHBhcmFncmFwaCBlbGVtZW50IHRvIGRpc3BsYXkgdGhlIHN5bWJvbC5cclxuICAgIGNvbnN0IHN5bWJvbFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgc3ltYm9sVGFnLnRleHRDb250ZW50ID0gc3ltYm9sO1xyXG4gICAgY2VsbC5hcHBlbmRDaGlsZChzeW1ib2xUYWcpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBkaXNwbGF5IHRoZSBnYW1lIHJlc3VsdCAod2luLCB0aWUsIG9yIG9uZ29pbmcpLlxyXG5kaXNwbGF5UmVzdWx0ID0gKHdpbm5lciwgcmVzdWx0KSA9PiB7XHJcbiAgICBpZiAocmVzdWx0ID09PSBcIlwiKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IFwiV0lOIVwiKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0UGFyYWdyYXBoLmlubmVySFRNTCA9IFwiV2lubmVyIGlzIFwiICsgd2lubmVyLm5hbWU7XHJcbiAgICAgICAgR2FtZUxvZ2ljLmluY3JlbWVudFBsYXllclNjb3JlKHdpbm5lcik7ICAgICAgICBcclxuICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBcIlRJRSFcIikge1xyXG4gICAgICAgIHRoaXMuX3Jlc3VsdFBhcmFncmFwaC5pbm5lckhUTUwgPSByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2hvdyB0aGUgcmVzdWx0IHBhcmFncmFwaCBhbmQgcmVzdGFydCBidXR0b24uXHJcbiAgICB0aGlzLl9yZXN1bHRQYXJhZ3JhcGguaGlkZGVuID0gZmFsc2U7XHJcbiAgICB0aGlzLl9yZXN0YXJ0QnV0dG9uLmhpZGRlbiA9IGZhbHNlO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgY2VsbHMgYW5kIGFkZCB0aGUgJ2Rpc2FibGVkJyBjbGFzcy5cclxuICAgIHRoaXMuX2NlbGxzLmZvckVhY2goY2VsbCA9PiB7XHJcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWVyJ3MgdHVybi5cclxuZGlzcGxheVBsYXllclR1cm4gPSAocGxheWVyVHVybikgPT4ge1xyXG4gICAgY29uc3QgcGxheWVyVHVybkhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLXR1cm4taGVhZGVyXCIpO1xyXG4gICAgcGxheWVyVHVybkhlYWRlci5pbm5lckhUTUwgPSBgUGxheWVyIFR1cm46ICR7cGxheWVyVHVybi5uYW1lfSAoJHtwbGF5ZXJUdXJuLnBsYXllclN5bWJvbH0pYDtcclxuICAgIHBsYXllclR1cm5IZWFkZXIuaGlkZGVuID0gZmFsc2U7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIHJlc2V0IHRoZSBnYW1lIGRpc3BsYXksIGNsZWFyaW5nIGNlbGxzIGFuZCBoaWRpbmcgcmVzdWx0IGVsZW1lbnRzLlxyXG5yZXNldEdhbWVEaXNwbGF5ID0gKCkgPT4ge1xyXG4gICAgLy8gRW1wdHkgZ2FtZSBjZWxscyBhbmQgZW5hYmxlIHRoZW0uXHJcbiAgICB0aGlzLl9jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbiAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9yZXN1bHRQYXJhZ3JhcGguaGlkZGVuID0gdHJ1ZTtcclxuICAgIHRoaXMuX3Jlc3RhcnRCdXR0b24uaGlkZGVuID0gdHJ1ZTtcclxufVxyXG5cclxuZGlzcGxheVBsYXllcnNTY29yZSA9IChwbGF5ZXIxLHBsYXllcjIpPT57XHJcbiAgICB0aGlzLl9wbGF5ZXJPbmVOYW1lU3Bhbi5pbm5lckhUTUwgPSBwbGF5ZXIxLm5hbWU7XHJcbiAgICB0aGlzLl9wbGF5ZXJPbmVTY29yZVNwYW4uaW5uZXJIVE1MID0gcGxheWVyMS5zY29yZTtcclxuXHJcbiAgICB0aGlzLl9wbGF5ZXJUd29OYW1lU3Bhbi5pbm5lckhUTUwgPSBwbGF5ZXIyLm5hbWU7XHJcbiAgICB0aGlzLl9wbGF5ZXJUd29TY29yZVNwYW4uaW5uZXJIVE1MID0gcGxheWVyMi5zY29yZTtcclxuXHJcbn1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgVUk7IiwiLy8gLy8gQ3JlYXRlIGEgUGxheWVyIG9iamVjdCB3aXRoIGEgbmFtZSBhbmQgYSBzeW1ib2wgKFggb3IgTykuXHJcbi8vIGNvbnN0IFBsYXllciA9IChpbml0aWFsTmFtZSwgc3ltYm9sKSA9PiB7XHJcbi8vICAgICAvLyBQcml2YXRlIHZhcmlhYmxlcyB0byBzdG9yZSBwbGF5ZXIgZGF0YS5cclxuLy8gICAgIGxldCBuYW1lID0gaW5pdGlhbE5hbWU7ICAvLyBUaGUgcGxheWVyJ3MgbmFtZS5cclxuLy8gICAgIGxldCBzY29yZSA9IDA7ICAgICAgICAgICAvLyBUaGUgcGxheWVyJ3Mgc2NvcmUuXHJcbi8vICAgICBsZXQgcGxheWVyU3ltYm9sID0gc3ltYm9sOyAgLy8gVGhlIHBsYXllcidzIHN5bWJvbCAoWCBvciBPKS5cclxuXHJcbi8vICAgICAvLyBSZXRyaWV2ZSB0aGUgcGxheWVyJ3MgbmFtZS5cclxuLy8gICAgIGNvbnN0IGdldE5hbWUgPSAoKSA9PiBuYW1lO1xyXG5cclxuLy8gICAgIC8vIFJldHJpZXZlIHRoZSBwbGF5ZXIncyBjdXJyZW50IHNjb3JlLlxyXG4vLyAgICAgY29uc3QgZ2V0U2NvcmUgPSAoKSA9PiBzY29yZTtcclxuXHJcbi8vICAgICAvLyBSZXRyaWV2ZSB0aGUgcGxheWVyJ3Mgc3ltYm9sIChYIG9yIE8pLlxyXG4vLyAgICAgY29uc3QgZ2V0UGxheWVyU3ltYm9sID0gKCkgPT4gcGxheWVyU3ltYm9sO1xyXG5cclxuLy8gICAgIC8vIFVwZGF0ZSB0aGUgcGxheWVyJ3Mgc2NvcmUgd2l0aCBhIG5ldyB2YWx1ZS5cclxuLy8gICAgIGNvbnN0IHNldFNjb3JlID0gKG5ld1Njb3JlKSA9PiB7XHJcbi8vICAgICAgICAgc2NvcmUgPSBuZXdTY29yZTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBVcGRhdGUgdGhlIHBsYXllcidzIG5hbWUgd2l0aCBhIG5ldyB2YWx1ZS5cclxuLy8gICAgIGNvbnN0IHNldE5hbWUgPSAobmV3TmFtZSkgPT4ge1xyXG4vLyAgICAgICAgIG5hbWUgPSBuZXdOYW1lO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFJldHVybiBwdWJsaWMgbWV0aG9kcyB0byBhY2Nlc3MgYW5kIG1vZGlmeSBwbGF5ZXIgZGF0YS5cclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgZ2V0TmFtZSwgICAgICAgICAgIC8vIEZ1bmN0aW9uIHRvIGdldCB0aGUgcGxheWVyJ3MgbmFtZS5cclxuLy8gICAgICAgICBnZXRTY29yZSwgICAgICAgICAgLy8gRnVuY3Rpb24gdG8gZ2V0IHRoZSBwbGF5ZXIncyBzY29yZS5cclxuLy8gICAgICAgICBzZXRTY29yZSwgICAgICAgICAgLy8gRnVuY3Rpb24gdG8gc2V0IHRoZSBwbGF5ZXIncyBzY29yZS5cclxuLy8gICAgICAgICBzZXROYW1lLCAgICAgICAgICAgLy8gRnVuY3Rpb24gdG8gc2V0IHRoZSBwbGF5ZXIncyBuYW1lLlxyXG4vLyAgICAgICAgIGdldFBsYXllclN5bWJvbCAgICAvLyBGdW5jdGlvbiB0byBnZXQgdGhlIHBsYXllcidzIHN5bWJvbC5cclxuLy8gICAgIH07XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gLy8gVGhlIEdhbWVCb2FyZCBtb2R1bGUgcmVwcmVzZW50cyB0aGUgZ2FtZSBib2FyZCBmb3IgVGljLVRhYy1Ub2UuXHJcbi8vIGNvbnN0IEdhbWVCb2FyZCA9ICgoKSA9PiB7XHJcbi8vICAgICAvLyBBbiBhcnJheSB0byBzdG9yZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZ2FtZSBib2FyZC5cclxuLy8gICAgIGxldCBnYW1lQm9hcmQgPSBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl07XHJcblxyXG4vLyAgICAgLy8gUmV0cmlldmUgdGhlIGN1cnJlbnQgZ2FtZSBib2FyZC5cclxuLy8gICAgIGNvbnN0IGdldEdhbWVCb2FyZCA9ICgpID0+IGdhbWVCb2FyZDtcclxuXHJcbi8vICAgICAvLyBBZGQgYSBwbGF5ZXIncyBzeW1ib2wgdG8gdGhlIGdhbWUgYm9hcmQgYXQgdGhlIHNwZWNpZmllZCBjZWxsIGluZGV4LlxyXG4vLyAgICAgY29uc3QgYWRkVG9HYW1lQm9hcmQgPSAoY2VsbEluZGV4LCBwbGF5ZXJTeW1ib2wpID0+IHtcclxuLy8gICAgICAgICAvLyBVcGRhdGUgdGhlIGdhbWUgYm9hcmQgYXQgdGhlIGdpdmVuIGNlbGwgaW5kZXggd2l0aCB0aGUgcGxheWVyJ3Mgc3ltYm9sLlxyXG4vLyAgICAgICAgIGdhbWVCb2FyZC5zcGxpY2UoY2VsbEluZGV4LCAxLCBwbGF5ZXJTeW1ib2wpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIENoZWNrIGlmIHRoZSBnYW1lIGJvYXJkIGlzIGZ1bGwsIGluZGljYXRpbmcgYSB0aWUuXHJcbi8vICAgICBjb25zdCBpc0dhbWVCb2FyZEZ1bGwgPSAoKSA9PiB7XHJcbi8vICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIDkgY2VsbHMgYW5kIG5vbmUgb2YgdGhlbSBhcmUgZW1wdHkgc3RyaW5ncywgdGhlIGJvYXJkIGlzIGZ1bGwuXHJcbi8vICAgICAgICAgaWYgKGdhbWVCb2FyZC5sZW5ndGggPT09IDkgJiYgIWdhbWVCb2FyZC5pbmNsdWRlcyhcIlwiKSkge1xyXG4vLyAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFByaW50IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBnYW1lIGJvYXJkIHRvIHRoZSBjb25zb2xlLlxyXG4vLyAgICAgY29uc3QgcHJpbnRHYW1lQm9hcmQgPSAoKSA9PiB7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coYFxyXG4vLyAgICAgICAgICAke2dhbWVCb2FyZFswXX0gfCAke2dhbWVCb2FyZFsxXX0gfCAke2dhbWVCb2FyZFsyXX1cclxuLy8gICAgICAgICAtLS0rLS0tKy0tLVxyXG4vLyAgICAgICAgICAke2dhbWVCb2FyZFszXX0gfCAke2dhbWVCb2FyZFs0XX0gfCAke2dhbWVCb2FyZFs1XX1cclxuLy8gICAgICAgICAtLS0rLS0tKy0tLVxyXG4vLyAgICAgICAgICAke2dhbWVCb2FyZFs2XX0gfCAke2dhbWVCb2FyZFs3XX0gfCAke2dhbWVCb2FyZFs4XX1cclxuLy8gICAgICAgICBgKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBDbGVhciB0aGUgZ2FtZSBib2FyZCwgcmVzZXR0aW5nIGl0IHRvIGFuIGVtcHR5IHN0YXRlLlxyXG4vLyAgICAgY29uc3QgZW1wdHlHYW1lQm9hcmQgPSAoKSA9PiB7XHJcbi8vICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lQm9hcmQubGVuZ3RoOyBpKyspIHtcclxuLy8gICAgICAgICAgICAgZ2FtZUJvYXJkW2ldID0gXCJcIjtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlIGdhbWUgYm9hcmQuXHJcbi8vICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgIGdldEdhbWVCb2FyZCwgICAgICAgLy8gRnVuY3Rpb24gdG8gZ2V0IHRoZSBnYW1lIGJvYXJkLlxyXG4vLyAgICAgICAgIGFkZFRvR2FtZUJvYXJkLCAgICAgLy8gRnVuY3Rpb24gdG8gYWRkIGEgcGxheWVyJ3Mgc3ltYm9sIHRvIHRoZSBib2FyZC5cclxuLy8gICAgICAgICBpc0dhbWVCb2FyZEZ1bGwsICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBib2FyZCBpcyBmdWxsLlxyXG4vLyAgICAgICAgIHByaW50R2FtZUJvYXJkLCAgICAgLy8gRnVuY3Rpb24gdG8gcHJpbnQgdGhlIGJvYXJkIHRvIHRoZSBjb25zb2xlLlxyXG4vLyAgICAgICAgIGVtcHR5R2FtZUJvYXJkICAgICAgLy8gRnVuY3Rpb24gdG8gY2xlYXIvcmVzZXQgdGhlIGJvYXJkLlxyXG4vLyAgICAgfVxyXG4vLyB9KSgpO1xyXG5cclxuXHJcbi8vIC8vIFRoZSBnYW1lQXBwTG9naWMgbW9kdWxlIGNvbnRhaW5zIHRoZSBjb3JlIGdhbWUgbG9naWMgZm9yIFRpYy1UYWMtVG9lLlxyXG4vLyBjb25zdCBnYW1lQXBwTG9naWMgPSAoKCk9PntcclxuXHJcbi8vIC8vIFZhcmlhYmxlcyB0byBzdG9yZSBwbGF5ZXIgaW5wdXRzLCBnYW1lIGVsZW1lbnRzLCBhbmQgaW5pdGlhbCBwbGF5ZXIgc2V0dXAuXHJcbi8vIGxldCBwbGF5ZXJPbmVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxheWVyLW9uZVwiKTtcclxuLy8gbGV0IHBsYXllclR3b0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGF5ZXItdHdvXCIpO1xyXG4vLyBjb25zdCBnYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWZvcm0nKTtcclxuLy8gY29uc3QgZ2FtZUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtYm9hcmQnKTtcclxuLy8gY29uc3QgY2VsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbCcpO1xyXG4vLyBjb25zdCBwbGF5ZXJOYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXItbmFtZS1mb3JtJyk7XHJcbi8vIGxldCBwbGF5ZXIxID0gUGxheWVyKFwicGxheWVyMVwiLCBcIlhcIik7IC8vIENyZWF0ZSBQbGF5ZXIgMSB3aXRoIHN5bWJvbCBYLlxyXG4vLyBsZXQgcGxheWVyMiA9IFBsYXllcihcInBsYXllcjJcIiwgXCJPXCIpOyAvLyBDcmVhdGUgUGxheWVyIDIgd2l0aCBzeW1ib2wgTy5cclxuLy8gbGV0IHBsYXllclR1cm4gPSBwbGF5ZXIxOyAvLyBJbml0aWFsaXplIHRoZSBwbGF5ZXIgdHVybiB0byBQbGF5ZXIgMS5cclxuLy8gbGV0IHNjb3JlRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmUtZGlzcGxheVwiKTtcclxuXHJcblxyXG4vLyAvLyBGdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIHJlc3VsdCBvZiB0aGUgZ2FtZSAod2luLCB0aWUsIG9yIG9uZ29pbmcpLlxyXG4vLyBjb25zdCBkZXRlcm1pbmVSZXN1bHQgPSAoKSA9PiB7XHJcbi8vICAgICBsZXQgZ2FtZUJvYXJkID0gR2FtZUJvYXJkLmdldEdhbWVCb2FyZCgpO1xyXG4vLyAgICAgY29uc3Qgd2lubmluZ0NvbWJpbmF0aW9ucyA9IFtcclxuLy8gICAgICAgICBbMCwgMSwgMl0sIFszLCA0LCA1XSwgWzYsIDcsIDhdLCAvLyBSb3dzXHJcbi8vICAgICAgICAgWzAsIDMsIDZdLCBbMSwgNCwgN10sIFsyLCA1LCA4XSwgLy8gQ29sdW1uc1xyXG4vLyAgICAgICAgIFswLCA0LCA4XSwgWzIsIDQsIDZdICAgICAgICAgICAgICAvLyBEaWFnb25hbHNcclxuLy8gICAgIF07XHJcblxyXG4vLyAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHdpbm5pbmdDb21iaW5hdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbi8vICAgICAgICAgY29uc3QgW2EsIGIsIGNdID0gd2lubmluZ0NvbWJpbmF0aW9uc1tpbmRleF07XHJcbi8vICAgICAgICAgY29uc3QgZmlyc3RDZWxsID0gZ2FtZUJvYXJkW2FdO1xyXG4vLyAgICAgICAgIGNvbnN0IHNlY29uZENlbGwgPSBnYW1lQm9hcmRbYl07XHJcbi8vICAgICAgICAgY29uc3QgdGhpcmRDZWxsID0gZ2FtZUJvYXJkW2NdO1xyXG5cclxuLy8gICAgICAgICBpZiAoZmlyc3RDZWxsICE9PSBcIlwiICYmIGZpcnN0Q2VsbCA9PT0gc2Vjb25kQ2VsbCAmJiBzZWNvbmRDZWxsID09PSB0aGlyZENlbGwpIHtcclxuLy8gICAgICAgICAgICAgcmV0dXJuIFwiV0lOIVwiOyAvLyByZXR1cm4gV0lOIHJlc3VsdFxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoR2FtZUJvYXJkLmlzR2FtZUJvYXJkRnVsbCgpKSB7XHJcbi8vICAgICAgICAgcmV0dXJuIFwiVElFIVwiOyAvLyByZXR1cm4gVElFIHJlc3VsdFxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHJldHVybiBcIlwiOyAvLyByZXR1cm4gZW1wdHkgc3RyaW5nID0+IGdhbWUgb25nb2luZ1xyXG4vLyB9XHJcblxyXG4vLyAvLyBGdW5jdGlvbiB0byBzdGFydCB0aGUgZ2FtZSBhcHBsaWNhdGlvbi5cclxuLy8gY29uc3Qgc3RhcnRHYW1lQXBwID0gKCkgPT4ge1xyXG4vLyAgICAgcGxheWVyTmFtZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcclxuLy8gICAgICAgICBsZXQgcGxheWVyT25lSW5wdXRWYWx1ZSA9IHBsYXllck9uZUlucHV0LnZhbHVlO1xyXG4vLyAgICAgICAgIGxldCBwbGF5ZXJUd29JbnB1dFZhbHVlID0gcGxheWVyVHdvSW5wdXQudmFsdWU7XHJcbi8vICAgICAgICAgcGxheWVyMS5zZXROYW1lKHBsYXllck9uZUlucHV0VmFsdWUpO1xyXG4vLyAgICAgICAgIHBsYXllcjIuc2V0TmFtZShwbGF5ZXJUd29JbnB1dFZhbHVlKTtcclxuXHJcbi8vICAgICAgICAgZ2FtZUZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuLy8gICAgICAgICBnYW1lQm9hcmQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblxyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKFwiUGxheWVyIG9uZTogXCIgKyBwbGF5ZXIxLmdldE5hbWUoKSk7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coXCJQbGF5ZXIgdHdvOiBcIiArIHBsYXllcjIuZ2V0TmFtZSgpKTtcclxuLy8gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4vLyAgICAgICAgIHN0YXJ0R2FtZSgpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbi8vIC8vIEZ1bmN0aW9uIHRvIHN0YXJ0IHRoZSBnYW1lIGJ5IGFkZGluZyBjbGljayBldmVudCBsaXN0ZW5lcnMgdG8gY2VsbHMuXHJcbi8vIC8vIFdlIHJlbW92ZSBhbmQgYWRkIGV2ZW50bGlzdGVuZXIgdG8gYXZvaWQgYnVncyB3aGVuIHJlc3RhcnRpbmcgZ2FtZVxyXG4vLyBjb25zdCBzdGFydEdhbWUgPSAoKSA9PiB7XHJcbi8vICAgICBkaXNwbGF5Q29udHJvbGxlci5kaXNwbGF5UGxheWVyVHVybihwbGF5ZXJUdXJuKTtcclxuLy8gICAgIGRpc3BsYXlDb250cm9sbGVyLmRpc3BsYXlQbGF5ZXJzU2NvcmUocGxheWVyMSxwbGF5ZXIyKTtcclxuLy8gICAgIHNjb3JlRGlzcGxheS5oaWRkZW4gPSBmYWxzZTtcclxuXHJcbi8vICAgICAvLyBSZW1vdmUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gY2VsbHMuXHJcbi8vICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbi8vICAgICAgICAgY2VsbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNlbGxDbGlja0hhbmRsZXIpO1xyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8gQWRkIG5ldyBjbGljayBldmVudCBsaXN0ZW5lcnMgdG8gY2VsbHMuXHJcbi8vICAgICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XHJcbi8vICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNlbGxDbGlja0hhbmRsZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbi8vIC8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBjZWxsIGNsaWNrIGV2ZW50cyBkdXJpbmcgdGhlIGdhbWUuXHJcbi8vIGNvbnN0IGNlbGxDbGlja0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuLy8gICAgIGNvbnN0IGNlbGwgPSBldmVudC50YXJnZXQ7XHJcbi8vICAgICBjb25zdCBjZWxsSW5kZXggPSBjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS1jZWxsLWluZGV4Jyk7XHJcbi8vICAgICBpZiAoR2FtZUJvYXJkLmdldEdhbWVCb2FyZCgpW2NlbGxJbmRleF0gIT09IFwiXCIpIHtcclxuLy8gICAgICAgICBhbGVydChcIlRoaXMgQ2VsbCBpcyBGdWxsXCIpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuLy8gICAgIGRpc3BsYXlDb250cm9sbGVyLmRpc3BsYXlTeW1ib2xUb0dhbWUoY2VsbCwgcGxheWVyVHVybi5nZXRQbGF5ZXJTeW1ib2woKSk7XHJcbi8vICAgICBHYW1lQm9hcmQuYWRkVG9HYW1lQm9hcmQoY2VsbEluZGV4LCBwbGF5ZXJUdXJuLmdldFBsYXllclN5bWJvbCgpKTtcclxuLy8gICAgIGxldCByZXN1bHQgPSBnYW1lQXBwTG9naWMuZGV0ZXJtaW5lUmVzdWx0KCk7XHJcbi8vICAgICBkaXNwbGF5Q29udHJvbGxlci5kaXNwbGF5UmVzdWx0KHBsYXllclR1cm4sIHJlc3VsdCk7XHJcbi8vICAgICBpZiAocGxheWVyVHVybi5nZXROYW1lKCkgPT0gcGxheWVyMS5nZXROYW1lKCkpIHtcclxuLy8gICAgICAgICBwbGF5ZXJUdXJuID0gcGxheWVyMjtcclxuLy8gICAgIH0gZWxzZSBpZiAocGxheWVyVHVybi5nZXROYW1lKCkgPT0gcGxheWVyMi5nZXROYW1lKCkpIHtcclxuLy8gICAgICAgICBwbGF5ZXJUdXJuID0gcGxheWVyMTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBkaXNwbGF5Q29udHJvbGxlci5kaXNwbGF5UGxheWVyc1Njb3JlKHBsYXllcjEscGxheWVyMik7XHJcbi8vICAgICBkaXNwbGF5Q29udHJvbGxlci5kaXNwbGF5UGxheWVyVHVybihwbGF5ZXJUdXJuKTtcclxuLy8gfTtcclxuXHJcbi8vIC8vIEZ1bmN0aW9uIHRvIHJlc3RhcnQgdGhlIGdhbWUgYnkgY2xlYXJpbmcgdGhlIGdhbWUgYm9hcmQgYW5kIHJlc2V0dGluZyB0aGUgZGlzcGxheS5cclxuLy8gY29uc3QgcmVzdGFydEdhbWUgPSAoKSA9PiB7XHJcbi8vICAgICBHYW1lQm9hcmQuZW1wdHlHYW1lQm9hcmQoKTtcclxuLy8gICAgIHBsYXllclR1cm4gPSBwbGF5ZXIxO1xyXG4vLyAgICAgZGlzcGxheUNvbnRyb2xsZXIucmVzZXRHYW1lRGlzcGxheSgpO1xyXG4vLyAgICAgc3RhcnRHYW1lKCk7XHJcbi8vIH1cclxuXHJcbi8vIC8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kcyBmb3IgZXh0ZXJuYWwgdXNlLlxyXG4vLyByZXR1cm4ge1xyXG4vLyAgICAgZGV0ZXJtaW5lUmVzdWx0LCAgIC8vIEZ1bmN0aW9uIHRvIGRldGVybWluZSB0aGUgZ2FtZSByZXN1bHQuXHJcbi8vICAgICBzdGFydEdhbWVBcHAsICAgICAgLy8gRnVuY3Rpb24gdG8gc3RhcnQgdGhlIGdhbWUgYXBwbGljYXRpb24uXHJcbi8vICAgICByZXN0YXJ0R2FtZSwgICAgICAgLy8gRnVuY3Rpb24gdG8gcmVzdGFydCB0aGUgZ2FtZS5cclxuLy8gfVxyXG4vLyB9KSgpO1xyXG5cclxuLy8gLy8gVGhlIGRpc3BsYXlDb250cm9sbGVyIG1vZHVsZSBtYW5hZ2VzIHRoZSB1c2VyIGludGVyZmFjZSBlbGVtZW50cyBhbmQgdXBkYXRlcyB0aGUgZ2FtZSBkaXNwbGF5LlxyXG4vLyBjb25zdCBkaXNwbGF5Q29udHJvbGxlciA9ICgoKT0+e1xyXG5cclxuLy8gLy8gUmVmZXJlbmNlIHRvIHRoZSBwYXJhZ3JhcGggZGlzcGxheWluZyB0aGUgZ2FtZSByZXN1bHQuXHJcbi8vIGNvbnN0IHJlc3VsdFBhcmFncmFwaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmVyLXBhcmFncmFwaFwiKTtcclxuXHJcbi8vIC8vIFJlZmVyZW5jZSB0byB0aGUgcmVzdGFydCBidXR0b24uXHJcbi8vIGNvbnN0IHJlc3RhcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc3RhcnQtYnV0dG9uXCIpO1xyXG5cclxuLy8gLy8gUmVmZXJlbmNlIHRvIGFsbCBnYW1lIGNlbGxzLlxyXG4vLyBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XHJcblxyXG4vLyBjb25zdCBwbGF5ZXJPbmVOYW1lU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxheWVyLW9uZS1uYW1lXCIpO1xyXG4vLyBjb25zdCBwbGF5ZXJPbmVTY29yZVNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllci1vbmUtc2NvcmVcIik7XHJcblxyXG4vLyBjb25zdCBwbGF5ZXJUd29OYW1lU3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxheWVyLXR3by1uYW1lXCIpO1xyXG4vLyBjb25zdCBwbGF5ZXJUd29TY29yZVNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsYXllci10d28tc2NvcmVcIik7XHJcblxyXG4vLyAvLyBGdW5jdGlvbiB0byBkaXNwbGF5IGEgcGxheWVyJ3Mgc3ltYm9sIChYIG9yIE8pIG9uIGEgZ2FtZSBjZWxsLlxyXG4vLyBjb25zdCBkaXNwbGF5U3ltYm9sVG9HYW1lID0gKGNlbGwsIHN5bWJvbCkgPT4ge1xyXG4vLyAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhcmFncmFwaCBlbGVtZW50IHRvIGRpc3BsYXkgdGhlIHN5bWJvbC5cclxuLy8gICAgIGNvbnN0IHN5bWJvbFRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4vLyAgICAgc3ltYm9sVGFnLnRleHRDb250ZW50ID0gc3ltYm9sO1xyXG4vLyAgICAgY2VsbC5hcHBlbmRDaGlsZChzeW1ib2xUYWcpO1xyXG4vLyB9XHJcblxyXG4vLyAvLyBGdW5jdGlvbiB0byBkaXNwbGF5IHRoZSBnYW1lIHJlc3VsdCAod2luLCB0aWUsIG9yIG9uZ29pbmcpLlxyXG4vLyBjb25zdCBkaXNwbGF5UmVzdWx0ID0gKHdpbm5lciwgcmVzdWx0KSA9PiB7XHJcbi8vICAgICBpZiAocmVzdWx0ID09PSBcIlwiKSB7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IFwiV0lOIVwiKSB7XHJcbi8vICAgICAgICAgcmVzdWx0UGFyYWdyYXBoLmlubmVySFRNTCA9IFwiV2lubmVyIGlzIFwiICsgd2lubmVyLmdldE5hbWUoKTtcclxuLy8gICAgICAgICB3aW5uZXIuc2V0U2NvcmUod2lubmVyLmdldFNjb3JlKCkgKyAxKTtcclxuLy8gICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBcIlRJRSFcIikge1xyXG4vLyAgICAgICAgIHJlc3VsdFBhcmFncmFwaC5pbm5lckhUTUwgPSByZXN1bHQ7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8gU2hvdyB0aGUgcmVzdWx0IHBhcmFncmFwaCBhbmQgcmVzdGFydCBidXR0b24uXHJcbi8vICAgICByZXN1bHRQYXJhZ3JhcGguaGlkZGVuID0gZmFsc2U7XHJcbi8vICAgICByZXN0YXJ0QnV0dG9uLmhpZGRlbiA9IGZhbHNlO1xyXG5cclxuLy8gICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgY2VsbHMgYW5kIGFkZCB0aGUgJ2Rpc2FibGVkJyBjbGFzcy5cclxuLy8gICAgIGNlbGxzLmZvckVhY2goY2VsbCA9PiB7XHJcbi8vICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbi8vIC8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWVyJ3MgdHVybi5cclxuLy8gY29uc3QgZGlzcGxheVBsYXllclR1cm4gPSAocGxheWVyVHVybikgPT4ge1xyXG4vLyAgICAgY29uc3QgcGxheWVyVHVybkhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLXR1cm4taGVhZGVyXCIpO1xyXG4vLyAgICAgcGxheWVyVHVybkhlYWRlci5pbm5lckhUTUwgPSBgUGxheWVyIFR1cm46ICR7cGxheWVyVHVybi5nZXROYW1lKCl9ICgke3BsYXllclR1cm4uZ2V0UGxheWVyU3ltYm9sKCl9KWA7XHJcbi8vICAgICBwbGF5ZXJUdXJuSGVhZGVyLmhpZGRlbiA9IGZhbHNlO1xyXG4vLyB9XHJcblxyXG4vLyAvLyBGdW5jdGlvbiB0byByZXNldCB0aGUgZ2FtZSBkaXNwbGF5LCBjbGVhcmluZyBjZWxscyBhbmQgaGlkaW5nIHJlc3VsdCBlbGVtZW50cy5cclxuLy8gY29uc3QgcmVzZXRHYW1lRGlzcGxheSA9ICgpID0+IHtcclxuLy8gICAgIC8vIEVtcHR5IGdhbWUgY2VsbHMgYW5kIGVuYWJsZSB0aGVtLlxyXG4vLyAgICAgY2VsbHMuZm9yRWFjaCgoY2VsbCkgPT4ge1xyXG4vLyAgICAgICAgIGNlbGwuaW5uZXJIVE1MID0gXCJcIjtcclxuLy8gICAgICAgICBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgcmVzdWx0UGFyYWdyYXBoLmhpZGRlbiA9IHRydWU7XHJcbi8vICAgICByZXN0YXJ0QnV0dG9uLmhpZGRlbiA9IHRydWU7XHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGRpc3BsYXlQbGF5ZXJzU2NvcmUgPSAocGxheWVyMSxwbGF5ZXIyKT0+e1xyXG4vLyAgICAgcGxheWVyT25lTmFtZVNwYW4uaW5uZXJIVE1MID0gcGxheWVyMS5nZXROYW1lKCk7XHJcbi8vICAgICBwbGF5ZXJPbmVTY29yZVNwYW4uaW5uZXJIVE1MID0gcGxheWVyMS5nZXRTY29yZSgpO1xyXG5cclxuLy8gICAgIHBsYXllclR3b05hbWVTcGFuLmlubmVySFRNTCA9IHBsYXllcjIuZ2V0TmFtZSgpO1xyXG4vLyAgICAgcGxheWVyVHdvU2NvcmVTcGFuLmlubmVySFRNTCA9IHBsYXllcjIuZ2V0U2NvcmUoKTtcclxuXHJcbi8vIH1cclxuXHJcbi8vIC8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kcyBmb3IgdXBkYXRpbmcgdGhlIGdhbWUgZGlzcGxheS5cclxuLy8gcmV0dXJuIHtcclxuLy8gICAgIGRpc3BsYXlTeW1ib2xUb0dhbWUsICAgLy8gRnVuY3Rpb24gdG8gZGlzcGxheSBhIHBsYXllcidzIHN5bWJvbC5cclxuLy8gICAgIGRpc3BsYXlSZXN1bHQsICAgICAgICAgLy8gRnVuY3Rpb24gdG8gZGlzcGxheSB0aGUgZ2FtZSByZXN1bHQuXHJcbi8vICAgICBkaXNwbGF5UGxheWVyVHVybiwgICAgIC8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWVyJ3MgdHVybi5cclxuLy8gICAgIHJlc2V0R2FtZURpc3BsYXksXHJcbi8vICAgICBkaXNwbGF5UGxheWVyc1Njb3JlICAgICAgIC8vIEZ1bmN0aW9uIHRvIHJlc2V0IHRoZSBnYW1lIGRpc3BsYXkuXHJcbi8vIH1cclxuXHJcbi8vIH0pKCk7XHJcblxyXG5cclxuLy8gLy8gU3RhcnRzIHRoZSBHYW1lIEFwcGxpY2F0aW9uXHJcbi8vIGdhbWVBcHBMb2dpYy5zdGFydEdhbWVBcHAoKTtcclxuXHJcbi8vIC8vIEFkZCBhIGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSByZXN0YXJ0IGJ1dHRvbiB0byByZXNldCB0aGUgZ2FtZS5cclxuLy8gY29uc3QgcmVzdGFydEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVzdGFydC1idXR0b25cIik7XHJcblxyXG4vLyByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4vLyAgICAgLy8gQ2FsbCB0aGUgcmVzdGFydEdhbWUgZnVuY3Rpb24gZnJvbSBnYW1lQXBwTG9naWMgdG8gcmVzZXQgdGhlIGdhbWUuXHJcbi8vICAgICBnYW1lQXBwTG9naWMucmVzdGFydEdhbWUoKTtcclxuLy8gfSk7XHJcblxyXG5pbXBvcnQgVUkgZnJvbSAnLi9tb2R1bGVzL1VJJztcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgIFxyXG4gICAgLy8gU3RhcnQgdGhlIHVzZXIgaW50ZXJmYWNlIG9mIG91ciBhcHBsaWNhdGlvbiBieSBjYWxsaW5nIHRoZSBzdGFydFVJKCkgZnVuY3Rpb24gZnJvbSB0aGUgVUkgbW9kdWxlLlxyXG4gICAgVUkuc3RhcnRHYW1lQXBwVUkoKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsInRoaXMiLCJfZ2FtZUJvYXJkIiwiZ2FtZUJvYXJkIiwibmV3R2FtZUJvYXJkIiwiYWRkVG9HYW1lQm9hcmQiLCJjZWxsSW5kZXgiLCJwbGF5ZXJTeW1ib2wiLCJzcGxpY2UiLCJpc0dhbWVCb2FyZEZ1bGwiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInByaW50R2FtZUJvYXJkIiwiY29uc29sZSIsImxvZyIsImVtcHR5R2FtZUJvYXJkIiwiaSIsIlBsYXllciIsImluaXRpYWxOYW1lIiwic3ltYm9sIiwiX25hbWUiLCJfcGxheWVyU3ltYm9sIiwiX3Njb3JlIiwibmFtZSIsIm5ld05hbWUiLCJuZXdQbGF5ZXJTeW1ib2wiLCJzY29yZSIsIm5ld1Njb3JlIiwiX3BsYXllcjEiLCJfcGxheWVyMiIsIl9wbGF5ZXJUdXJuIiwicGxheWVyT25lIiwicGxheWVyVHdvIiwibmV3UGxheWVyIiwicGxheWVyVHVybiIsIm5ld1BsYXllclR1cm4iLCJkZXRlcm1pbmVSZXN1bHQiLCJ3aW5uaW5nQ29tYmluYXRpb25zIiwiaW5kZXgiLCJhIiwiYiIsImMiLCJmaXJzdENlbGwiLCJzZWNvbmRDZWxsIiwidGhpcmRDZWxsIiwic3RhcnRHYW1lQXBwIiwicGxheWVyT25lTmFtZSIsInBsYXllclR3b05hbWUiLCJjcmVhdGVOZXdQbGF5ZXJzIiwiYWRkU3ltYm9sVG9HYW1lQm9hcmQiLCJpc0dhbWVCb2FyZENlbGxGdWxsIiwic3dpdGNoUGxheWVyVHVybiIsInJlc3RhcnRHYW1lIiwiaW5jcmVtZW50UGxheWVyU2NvcmUiLCJwbGF5ZXIiLCJfcGxheWVyT25lSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfcGxheWVyVHdvSW5wdXQiLCJfZ2FtZUZvcm0iLCJfY2VsbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3Njb3JlRGlzcGxheSIsIl9wbGF5ZXJOYW1lRm9ybSIsIl9yZXN1bHRQYXJhZ3JhcGgiLCJfcmVzdGFydEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXN0YXJ0QnV0dG9uQ2xpY2tIYW5kbGVyIiwiX3BsYXllck9uZU5hbWVTcGFuIiwiX3BsYXllck9uZVNjb3JlU3BhbiIsIl9wbGF5ZXJUd29OYW1lU3BhbiIsIl9wbGF5ZXJUd29TY29yZVNwYW4iLCJzdGFydEdhbWVBcHBVSSIsImUiLCJwbGF5ZXJPbmVJbnB1dFZhbHVlIiwidmFsdWUiLCJwbGF5ZXJUd29JbnB1dFZhbHVlIiwic3R5bGUiLCJkaXNwbGF5IiwicHJldmVudERlZmF1bHQiLCJzdGFydEdhbWVVSSIsImRpc3BsYXlQbGF5ZXJUdXJuIiwiZGlzcGxheVBsYXllcnNTY29yZSIsImhpZGRlbiIsImZvckVhY2giLCJjZWxsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNlbGxDbGlja0hhbmRsZXIiLCJldmVudCIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImN1cnJlbnRQbGF5ZXIiLCJhbGVydCIsImRpc3BsYXlTeW1ib2xUb0dhbWUiLCJyZXN1bHQiLCJkaXNwbGF5UmVzdWx0IiwicmVzZXRHYW1lRGlzcGxheSIsInN5bWJvbFRhZyIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwid2lubmVyIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwicGxheWVyVHVybkhlYWRlciIsInJlbW92ZSIsInBsYXllcjEiLCJwbGF5ZXIyIl0sInNvdXJjZVJvb3QiOiIifQ==